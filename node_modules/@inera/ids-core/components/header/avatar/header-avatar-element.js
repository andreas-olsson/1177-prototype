import{__decorate as t}from"tslib";import{LitElement as e,html as s}from"lit";import{stylesBase as i,styles1177 as o,styles1177pro as a,stylesIneraAdmin as r,stylesIneraAdminLegacy as d}from"./header-avatar-styles.js";import n from"../../styles/global-styles.js";import{property as c,state as l}from"lit/decorators.js";class h extends e{constructor(){super(...arguments),this.username="",this.maxwidth="",this.unit="",this.type=void 0,this.expanded=!1,this.unresponsive=!1,this.detectClickOutside=t=>{!this.contains(t.target)&&this.expanded&&this.tooggleExpand()}}tooggleExpand(){let t;this.expanded=!this.expanded,t=this.expanded?new CustomEvent("expanded"):new CustomEvent("closed"),this.dispatchEvent(t)}firstUpdated(t){super.firstUpdated(t),document.addEventListener("click",this.detectClickOutside);const e=this.closest("ids-header");this.setAttribute("type",e.getAttribute("type")),null!==e.getAttribute("unresponsive")&&(this.unresponsive=!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.detectClickOutside)}renderAvatarBox(){switch(this.type){case"1177":case"inera":case"inera-legacy":return s`<ids-row class="avatar-box">${this.renderIcon()}<ids-col class="avatar-text-col" alignself="center"><div style="${this.maxwidth?`max-width: ${this.maxwidth}`:""}" class="avatar-username">${this.username}</div><ids-row class="hide-on-mobile"><ids-col cols="auto" align="start" class="avatar-link avatar-link-divider"><slot name="avatar-left"></slot></ids-col><ids-col cols="auto" class="avatar-link"><slot name="avatar-right"></slot></ids-col></ids-row></ids-col></ids-row>`;case"1177-pro":case"inera-admin":case"inera-admin-legacy":return s`<ids-row class="avatar-box"><button aria-expanded="${this.expanded}" @click="${this.tooggleExpand}" class="btn-no-styles">${this.renderIcon()}<ids-col alignself="center"><ids-row align="center"><ids-col style="${this.maxwidth?`max-width: ${this.maxwidth}`:""}" class="username">${this.username}</ids-col><ids-col cols="auto" class="chevron"><ids-icon-chevron-bold class="ids-icon ${this.expanded?"expanded":""}" color="var(--avatar-chevron-icon)" height="13" width="13"></ids-icon-chevron-bold></ids-col></ids-row><ids-row align="start" class="hide-on-mobile"><ids-col style="${this.maxwidth?`max-width: ${this.maxwidth}`:""}" class="unit">${this.unit}</ids-col></ids-row></ids-col></button> ${this.renderDropdown()}</ids-row>`}}renderIcon(){return"inera-admin-legacy"===this.type||"inera-admin"===this.type?s``:"1177-pro"===this.type?s`<ids-col class="avatar-icon" alignself="center" cols="auto"><ids-icon-user width="100%" height="100%" colorpreset="1"></ids-icon-user></ids-col>`:s`<ids-col class="avatar-icon" alignself="center" cols="auto"><ids-icon-user width="100%" height="100%" colorpreset="2"></ids-icon-user></ids-col>`}renderDropdown(){return this.expanded?s`<div class="dropdown"><slot name="dropdown"></slot></div>`:s``}render(){return this.renderAvatarBox()}}h.styles=[n,i,o,a,r,d],t([c({type:String})],h.prototype,"username",void 0),t([c({type:String})],h.prototype,"maxwidth",void 0),t([c({type:String})],h.prototype,"unit",void 0),t([c({type:String,reflect:!0})],h.prototype,"type",void 0),t([l()],h.prototype,"expanded",void 0),t([c({type:Boolean,reflect:!0})],h.prototype,"unresponsive",void 0);export{h as IDSHeaderAvatar};
