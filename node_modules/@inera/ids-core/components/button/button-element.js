import{__decorate as t}from"tslib";import{LitElement as o,html as e}from"lit";import{property as i,state as r}from"lit/decorators.js";import{ifDefined as s}from"lit/directives/if-defined.js";import c from"./button-styles.js";import d from"@inera/ids-design/components/button/button-lit";class n extends o{constructor(){super(...arguments),this.active=!1,this.block=!1,this.disabled=!1,this.fab=!1,this.icon=!1,this.mblock=!1,this.sblock=!1,this.loading=!1,this.tertiary=!1,this.search=!1,this.secondary=!1,this.size="m",this.submit=!1,this.toggle=!1,this.type="",this.color="",this.coloractive="",this.colordisabled="",this.colorhover="",this.backgroundcolor="",this.backgroundcoloractive="",this.backgroundcolordisabled="",this.backgroundcolorhover="",this.bordercoloractive="",this.bordercolordisabled="",this.bordercolorhover="",this.bordercolor="",this.isHovered=!1,this.handleKeypress=t=>{switch(t.code){case"Enter":case"NumpadEnter":case"Space":this.click()}},this.clicked=()=>{let t=new CustomEvent("clicked");this.dispatchEvent(t),"submit"===this.type&&this.submitForm()},this.submitForm=()=>{let t=this.closest("form");t&&t.checkValidity()&&t.submit()},this.setIconAttributes=()=>{if(this.iconComponent&&!this.fab){this.iconComponent.isDisabled=this.disabled;let t="var(--btn-icon_color)",o="var(--btn-icon_color2)";(this.secondary||this.tertiary)&&(t="var(--btn-secondary-icon_color)",o="var(--btn-secondary-icon_color2)"),this.setIconColors(t,o)}},this.setIconHoveredAttributes=()=>{if(this.iconComponent&&!this.fab){let t="var(--btn-active-icon_color)",o="var(--btn-active-icon_color)";this.secondary?this.icon?(t="var(--btn-icon-secondary-active-icon_color)",o="var(--btn-icon-secondary-active-icon_color2)"):(t="var(--btn-secondary-active-icon_color)",o="var(--btn-secondary-active-icon_color2)"):this.tertiary&&(t="var(--btn-tertiary-active-icon_color)",o="var(--btn-tertiary-active-icon_color2)"),this.setIconColors(t,o)}}}get iconComponent(){return this.querySelector(".ids-icon")}firstUpdated(t){super.firstUpdated(t),this.setAttribute("role","button"),this.getAttribute("tabindex")||this.setAttribute("tabindex",this.disabled?"-1":"0"),this.addEventListener("keypress",this.handleKeypress),this.addEventListener("focus",this.setFocusTrue),this.addEventListener("blur",this.setFocusFalse),this.addEventListener("click",this.clicked),this.setupIcon()}setupIcon(){this.iconComponent&&(this.iconComponent.setAttribute("slot","icon"),this.iconComponent.getAttribute("size")||this.iconComponent.setAttribute("size","s"),this.fab||this.setIconAttributes())}updated(t){super.updated(t),this.disabled||this.loading?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled"),this.setAttribute("tabindex",this.disabled||this.loading?"-1":"0"),this.toggle&&this.setAttribute("aria-pressed",""+this.active)}setIconColors(t,o){this.iconComponent.setAttribute("color",t),this.iconComponent.setAttribute("color2",o)}getCustomBackgroundColor(){return this.disabled&&this.backgroundcolordisabled?`background-color: ${this.backgroundcolordisabled};`:this.active&&this.backgroundcoloractive?`background-color: ${this.backgroundcoloractive};`:this.isHovered&&(this.backgroundcoloractive||this.backgroundcolorhover)?`background-color: ${this.backgroundcolorhover||this.backgroundcoloractive};`:this.backgroundcolor?`background-color: ${this.backgroundcolor};`:void 0}getCustomColor(){return this.disabled&&this.colordisabled||this.active&&this.coloractive?`color: ${this.colordisabled};`:this.isHovered&&(this.coloractive||this.colorhover)?`color: ${this.colorhover||this.coloractive};`:this.color?`color: ${this.color};`:void 0}getCustomBorderColor(){return this.disabled&&this.bordercolordisabled||this.active&&this.bordercoloractive?`border: 1px solid ${this.bordercolordisabled};`:this.isHovered&&(this.bordercoloractive||this.bordercolorhover)?`border: 1px solid ${this.bordercolorhover||this.bordercoloractive};`:this.bordercolor?`border: 1px solid ${this.bordercolor};`:void 0}getStyles(){const t=this.getCustomColor(),o=this.getCustomBackgroundColor(),e=this.getCustomBorderColor();let i="";return t&&(i+=t),o&&(i+=o),e&&(i+=e),i||void 0}onMouseEnter(){this.loading||(this.isHovered=!0,this.setIconHoveredAttributes())}onMouseLeave(){this.isHovered=!1,this.active||this.setIconAttributes()}setFocusTrue(){this.active=!0,this.setIconHoveredAttributes()}setFocusFalse(){this.active=!1,this.setIconAttributes()}getButtonClasses(){let t="ids-button";return t+="m"!=this.size?` ids-button--${this.size}`:"",t+=this.active?" ids-button--active":"",t+=this.fab?" ids-button--fab":"",t+=this.icon?" ids-button--icon":"",t+=this.secondary?" ids-button--secondary":"",t+=this.tertiary?" ids-button--tertiary":"",t+=this.disabled?" ids-button--disabled":"",t+=this.block?" ids-button--block":"",t+=this.search?" ids-button--search":"",t+=this.mblock?" ids-button--m-block":"",t+=this.sblock?" ids-button--s-block":"",t+=this.submit?" ids-button--submit":"",t}renderButton(){return this.loading?e`<ids-spinner ?light="${!this.secondary}"></ids-spinner>`:e`<slot name="icon"></slot><slot></slot>`}render(){return e`<div class="${this.getButtonClasses()}" @mouseenter="${this.onMouseEnter}" @mouseleave="${this.onMouseLeave}" style="${s(this.getStyles())}">${this.renderButton()}</div>`}}n.styles=[c,d],t([i({type:Boolean,reflect:!0})],n.prototype,"active",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"block",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"fab",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"icon",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"mblock",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"sblock",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"loading",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"tertiary",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"search",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"secondary",void 0),t([i({type:String,reflect:!0})],n.prototype,"size",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"submit",void 0),t([i({type:Boolean,reflect:!0})],n.prototype,"toggle",void 0),t([i({type:String,reflect:!0})],n.prototype,"type",void 0),t([i({type:String})],n.prototype,"color",void 0),t([i({type:String})],n.prototype,"coloractive",void 0),t([i({type:String})],n.prototype,"colordisabled",void 0),t([i({type:String})],n.prototype,"colorhover",void 0),t([i({type:String})],n.prototype,"backgroundcolor",void 0),t([i({type:String})],n.prototype,"backgroundcoloractive",void 0),t([i({type:String})],n.prototype,"backgroundcolordisabled",void 0),t([i({type:String})],n.prototype,"backgroundcolorhover",void 0),t([i({type:String})],n.prototype,"bordercoloractive",void 0),t([i({type:String})],n.prototype,"bordercolordisabled",void 0),t([i({type:String})],n.prototype,"bordercolorhover",void 0),t([i({type:String})],n.prototype,"bordercolor",void 0),t([r()],n.prototype,"isHovered",void 0);export{n as IDSButton};
