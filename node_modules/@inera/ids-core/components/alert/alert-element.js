import{__decorate as t}from"tslib";import{css as e,LitElement as s,html as i}from"lit";import{property as o,state as l}from"lit/decorators.js";import r from"@inera/ids-design/components/alert/alert-lit";class a extends s{constructor(){super(...arguments),this.collapsable=!1,this.collapsed=!1,this.dismissible=!1,this.headline="",this.compact=!1,this.type="info",this.srclosetext="St√§ng alert",this.srcollapsetext="Minimera alertmeddelande",this.srexpandtext="Expandera alertmeddelande",this.sricontitle="",this.isCollapsed=!1}connectedCallback(){super.connectedCallback(),this.getAttribute("role")||this.setAttribute("role","alert")}firstUpdated(t){super.firstUpdated(t),this.collapsable&&(this.isCollapsed=this.collapsed),this.updateCompact()}updated(t){super.updated(t),this.updateCompact()}updateCompact(){this.compact=!Boolean(this.headline)&&!this.querySelector("[slot=headline]")}close(){let t=new CustomEvent("closed");this.dispatchEvent(t)}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.collapsed=this.isCollapsed;let t=new CustomEvent("collapsed",{detail:{isCollapsed:this.isCollapsed}});this.dispatchEvent(t)}getIconColor(){switch(this.type){case"attention":return{color:"var(--IDS-ALERT--ATTENTION__ICON__COLOR-1)",color2:"var(--IDS-ALERT--ATTENTION__ICON__COLOR-2)"};case"success":return{color:"var(--IDS-ALERT--SUCCESS__ICON__COLOR-1)",color2:"var(--IDS-ALERT--SUCCESS__ICON__COLOR-2)"};case"error":return{color:"var(--IDS-ALERT--ERROR__ICON__COLOR-1)",color2:"var(--IDS-ALERT--ERROR__ICON__COLOR-2)"};default:return{color:"var(--IDS-ALERT--INFO__ICON__COLOR-1)",color2:"var(--IDS-ALERT--INFO__ICON__COLOR-2)"}}}renderButton(){return this.dismissible?i`<div class="ids-alert__button"><button class="ids-alert__close" @click="${this.close}" aria-label="${this.srclosetext}"><ids-icon-close-bold color="var(--IDS-ALERT__BUTTON__ICON__COLOR)" width="100%" height="24"></ids-icon-close-bold></button></div>`:this.collapsable?i`<div class="ids-alert__button"><button class="ids-alert__expand" @click="${this.toggleCollapse}" aria-expanded="${!this.isCollapsed}" aria-controls="alert-content" aria-label="${this.isCollapsed?this.srexpandtext:this.srcollapsetext}"><ids-icon-chevron color="var(--IDS-ALERT__BUTTON__ICON__COLOR)" width="100%" height="24" rotate="${this.isCollapsed?"90":"-90"}"></ids-icon-chevron></button></div>`:i``}renderIcon(){const t=this.headline?"":"ids-alert__state-icon",{color:e,color2:s}=this.getIconColor();return"attention"===this.type?i`<ids-icon-attention title="${this.sricontitle}" color="${e}" color2="${s}" width="100%" height="100%" class="${t}"></ids-icon-attention>`:"success"===this.type?i`<ids-icon-success title="${this.sricontitle}" color="${e}" color2="${s}" width="100%" height="100%" class="${t}"></ids-icon-success>`:"error"===this.type?i`<ids-icon-warning title="${this.sricontitle}" color="${e}" color2="${s}" width="100%" height="100%" class="${t}"></ids-icon-warning>`:i`<ids-icon-information title="${this.sricontitle}" color="var(--IDS-ALERT--INFO__ICON__COLOR-1)" color2="var(--IDS-ALERT--INFO__ICON__COLOR-2)" width="100%" height="100%" class="${t}"></ids-icon-information>`}renderWithHeadline(){return i`${this.renderIcon()}<div class="ids-alert__headline">${this.headline.length>0?i`<h2>${this.headline}</h2>`:i`<slot name="headline"></slot>`}</div>${this.renderButton()}<div class="ids-alert__content">${this.renderContent()}</div>`}renderContent(){return this.isCollapsed?i``:i`<slot></slot>`}renderWithoutHeadline(){return i`<div class="ids-alert__content"><div class="ids-alert__content__icon">${this.renderIcon()}</div><div class="ids-alert__content__text">${this.renderContent()}</div></div>${this.renderButton()}`}renderAlert(){return this.compact?this.renderWithoutHeadline():this.renderWithHeadline()}getAlertStateClasses(){return`ids-alert--${this.type.toLowerCase()} \n    ${this.isCollapsed?" ids-alert--collapsed":""}\n    ${this.compact?" ids-alert--compact":""}`}render(){return i`<div class="ids-alert ${this.getAlertStateClasses()}">${this.renderAlert()}</div>`}}a.styles=[e`:host{display:block}`,r],t([o({type:Boolean})],a.prototype,"collapsable",void 0),t([o({type:Boolean,reflect:!0})],a.prototype,"collapsed",void 0),t([o({type:Boolean})],a.prototype,"dismissible",void 0),t([o({type:String})],a.prototype,"headline",void 0),t([o({type:Boolean,reflect:!0})],a.prototype,"compact",void 0),t([o({type:String})],a.prototype,"type",void 0),t([o({type:String})],a.prototype,"srclosetext",void 0),t([o({type:String})],a.prototype,"srcollapsetext",void 0),t([o({type:String})],a.prototype,"srexpandtext",void 0),t([o({type:String})],a.prototype,"sricontitle",void 0),t([l()],a.prototype,"isCollapsed",void 0);export{a as IDSAlert};
