import{__decorate as e}from"tslib";import{LitElement as t,html as i}from"lit";import{property as s,state as d}from"lit/decorators.js";import n from"./mobile-menu-item-styles.js";import o from"@inera/ids-design/components/mobile-menu/mobile-menu-lit";import{generateId as l}from"../../../../utilities/utils.js";class r extends t{constructor(){super(...arguments),this.level=1,this.secondary=!1,this.expanded=!1,this.variation=1,this.headline="",this.active=!1,this.isExpanded=!1,this.hasChildren=!1,this.showtext="Visa meddelande",this.hidetext="DÃ¶lj meddelande",this.subItemId=l()}get childrenItems(){return this.querySelectorAll("ids-mobile-menu-item")}get link(){return this.querySelector("a")}firstUpdated(e){super.firstUpdated(e),this.isExpanded=this.expanded,this.link?.setAttribute("slot","link"),this.setupChildren()}setupChildren(){this.hasChildren=this.childrenItems?.length>0,this.childrenItems?.forEach((e=>{e.setAttribute("level",this.level+1+""),e.setAttribute("slot","sub-item")}))}toggleExpanded(){if(this.hasChildren||this.headline){this.isExpanded=!this.isExpanded,this.expanded=this.isExpanded;let e=new CustomEvent("didToggleExpansion",{detail:{isExpanded:this.expanded}});this.dispatchEvent(e)}}getLevelClass(){return this.level>1?`--${this.level}`:""}getVariationClass(){return 2===this.variation?"--2":""}getButtonText(){return this.expanded?this.hidetext:this.showtext}renderItem(){return this.headline?i`<button @click="${this.toggleExpanded}" aria-expanded="${this.isExpanded}" aria-controls="${this.subItemId}" class="ids-mobile-menu-item__expand-btn">${this.headline}<ids-icon-chevron-bold width="7" height="12" class="ids-icon chevron expanded" color="var(--IDS-MOBILE-MENU${this.getVariationClass()}-ITEM${this.getLevelClass()}__ICON__COLOR)" size="m"></ids-icon-chevron-bold></button>`:this.link&&this.hasChildren?i`<slot name="link"></slot><button aria-label="${this.getButtonText()}" @click="${this.toggleExpanded}" aria-expanded="${this.isExpanded}" aria-controls="${this.subItemId}" class="ids-mobile-menu-item__expand-btn"><ids-icon-chevron-bold width="7" height="12" class="ids-icon chevron expanded" color="var(--IDS-MOBILE-MENU${this.getVariationClass()}-ITEM${this.getLevelClass()}__ICON__COLOR)" size="m"></ids-icon-chevron-bold></button>`:i`<slot name="link"></slot>`}getItemLevelClass(){switch(this.level){case 1:default:return"ids-mobile-menu-item";case 2:return"ids-mobile-menu-item--2";case 3:return"ids-mobile-menu-item--3"}}render(){return i`<div class="ids-mobile-menu ${2===this.variation?"ids-mobile-menu--variation-2":""}"><div class="${this.getItemLevelClass()} ${this.isExpanded?"ids-mobile-menu-item--expanded":""} ${this.active?"ids-mobile-menu-item--active":""} ${this.secondary?"ids-mobile-menu-item--secondary":""}"><div class="ids-mobile-menu-item__inner">${this.renderItem()}</div><div id="${this.subItemId}" class="ids-mobile-menu-item__sub-items"><slot name="sub-item"></slot></div></div></div>`}}r.styles=[o,n],e([s({type:Number})],r.prototype,"level",void 0),e([s({type:Boolean})],r.prototype,"secondary",void 0),e([s({type:Boolean,reflect:!0})],r.prototype,"expanded",void 0),e([s({type:Number})],r.prototype,"variation",void 0),e([s({type:String})],r.prototype,"headline",void 0),e([s({type:Boolean,reflect:!0})],r.prototype,"active",void 0),e([d()],r.prototype,"isExpanded",void 0),e([d()],r.prototype,"hasChildren",void 0),e([s({type:String})],r.prototype,"showtext",void 0),e([s({type:String})],r.prototype,"hidetext",void 0);export{r as IDSMobileMenuItem};
