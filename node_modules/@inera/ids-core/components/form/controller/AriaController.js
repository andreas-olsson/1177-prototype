import{generateId as t}from"../../../utilities/utils.js";import{BaseController as i}from"./BaseController.js";class e extends i{constructor(t){super(t),this.setArias=async()=>{await this.host.updateComplete,this.setLabelFor(),this.setLabelledBy(),this.setRequired(),this.setDescribedBy()},this.host.addController(this)}hostConnected(){super.hostConnected(),this.setArias()}invalidChanged(){const{invalid:t}=this.host;t?(this.errorMessage&&this.inputField?.setAttribute("aria-describedby",this.errorMessage.id),this.inputField?.setAttribute("aria-invalid","true")):t||(this.errorMessage&&this.hint?this.inputField?.setAttribute("aria-describedby",this.hint.getAttribute("id")):this.errorMessage&&this.inputField?.removeAttribute("aria-describedby"))}setRequired(){this.inputField?.required&&this.inputField.setAttribute("aria-required","true")}setLabelFor(){let i=this.inputField?.getAttribute("id")||t();this.inputField?.getAttribute("id")||this.inputField?.setAttribute("id",i),this.label&&this.label.setAttribute("for",i)}setLabelledBy(){if(this.label){let i=this.label.getAttribute("id")||t();this.label.getAttribute("id")||this.label.setAttribute("id",i),this.inputField&&this.inputField.setAttribute("aria-labelledby",i)}else console.warn("Label missing for: ",this.inputField)}setDescribedBy(){if(this.hint){let i=this.hint.getAttribute("id")||t();this.hint.getAttribute("id")||this.hint.setAttribute("id",i),this.inputField&&this.inputField.setAttribute("aria-describedby",i)}}}export{e as AriaController};
