import{__decorate as t}from"tslib";import{LitElement as e,html as o}from"lit";import{property as i,state as s}from"lit/decorators.js";import r from"../styles/global-styles.js";import n from"./link-styles.js";import c from"@inera/ids-design/components/link/link-lit";class l extends e{constructor(){super(...arguments),this.padding="",this.color="",this.hovercolor="",this.colorpreset=0,this.light=!1,this.outline="",this.active=!1,this.activeicon=!1,this.block=!1,this.size="",this.bold=!1,this.underlined=!1,this.isHovered=!1,this.isFocused=!1,this.activeIconBackgroundColor=""}get notificationBadge(){return this.querySelector("ids-notification-badge")}get link(){return this.querySelector("a")}get linkText(){return this.querySelector("a")?.textContent}get prependIcon(){return this.querySelector('.ids-icon:not([slot="append-icon"]):not([slot="append-icon"] .ids-icon)')}get appendIcon(){return this.querySelector('.ids-icon[slot="append-icon"]')||this.querySelector('[slot="append-icon"] .ids-icon')}firstUpdated(t){super.firstUpdated(t),this.setupColors(),this.setupIcons(),this.colorizeIcon(),this.notificationBadge?.setAttribute("slot","badge"),this.setActiveTriggers(),this.checkIfUnderline()}checkIfUnderline(){this.appendIcon||this.prependIcon||(this.underlined=!0)}setupColors(){if(!this.color&&!this.hovercolor){if(this.light)return this.color="white",this.hovercolor="white",void(this.outline="white");switch(this.colorpreset){case 1:default:this.color="var(--link-colorpreset-1_color)",this.hovercolor="var(--link-colorpreset-1-hover_color)";break;case 2:this.color="var(--link-colorpreset-2_color)",this.hovercolor="var(--link-colorpreset-2-hover_color)"}}}updated(t){super.updated(t),this.setupColors(),this.colorizeIcon()}disconnectedCallback(){this.removeEventListener("mouseenter",this.setHoverTrue),this.removeEventListener("mouseleave",this.setHoverFalse),super.disconnectedCallback()}setActiveTriggers(){this.addEventListener("mouseenter",this.setHoverTrue),this.addEventListener("mouseleave",this.setHoverFalse),this.link.addEventListener("focus",this.setHoverTrue.bind(this)),this.link.addEventListener("blur",this.setHoverFalse.bind(this))}setupIcons(){if(this.prependIcon){this.setIconSlot(this.prependIcon,"prepend-icon"),this.setIconColor(this.prependIcon);this.prependIcon.tagName.toLowerCase().includes("arrow")?this.setIconWidthAndHeight(this.prependIcon,"0.625rem","0.625rem"):this.setIconWidthAndHeight(this.prependIcon,"1rem","1rem")}this.appendIcon&&(this.setIconSlot(this.appendIcon,"append-icon"),this.setIconWidthAndHeight(this.appendIcon,"1rem","1rem"),this.setIconColor(this.appendIcon))}setIconSlot(t,e){t.getAttribute("slot")||t.setAttribute("slot",e)}setIconWidthAndHeight(t,e,o){t.getAttribute("size")||t.getAttribute("width")||t.getAttribute("height")||(t.setAttribute("width",e),t.setAttribute("height",o))}setIconColor(t){t.getAttribute("color")||t.setAttribute("color",this.color),t.getAttribute("color2")||t.setAttribute("color2",this.color)}renderNotificationBadge(){return this.notificationBadge?o`<ids-col class="notification-badge"><slot name="badge"></slot></ids-col>`:o``}setHoverTrue(){this.isHovered=!0,this.colorizeIcon()}colorizeIcon(){this.prependIcon&&(this.activeicon&&this.active||this.activeicon&&(this.isFocused||this.isHovered)?(this.prependIcon.setAttribute("color","white"),this.prependIcon.setAttribute("color2","white")):this.isFocused||this.isHovered?(this.prependIcon.setAttribute("color",this.hovercolor),this.prependIcon.setAttribute("color2",this.hovercolor)):(this.prependIcon.setAttribute("color",this.color),this.prependIcon.setAttribute("color2",this.color))),this.appendIcon&&(this.isFocused||this.isHovered)&&(this.appendIcon?.setAttribute("color",this.hovercolor),this.appendIcon?.setAttribute("color2",this.hovercolor))}setHoverFalse(){this.isHovered=!1,this.prependIcon&&!this.isFocused&&(this.prependIcon.setAttribute("color",this.color),this.prependIcon.setAttribute("color2",this.color)),this.appendIcon&&!this.isFocused&&(this.appendIcon.setAttribute("color",this.color),this.appendIcon.setAttribute("color2",this.color))}setFocusTrue(){this.isFocused=!0,this.setHoverTrue()}setFocusFalse(){this.isFocused=!1,this.setHoverFalse()}renderPrependIcon(){return this.prependIcon&&this.activeicon?o`<span class="ids-link__icon"><span class="ids-link__icon__wrap"><slot name="prepend-icon"></slot></span></span>`:this.prependIcon?o`<span class="ids-link__icon"><slot name="prepend-icon"></slot></span>`:o``}renderAppendIcon(){return this.appendIcon?o`<span class="ids-link__icon"><slot name="append-icon"></slot></span>`:o``}render(){return o`<span class="ids-link ${this.light?"ids-link--light":""} ${this.active?"ids-link--active":""} ${this.underlined?"ids-link--underlined":""} ${this.block?"ids-link--block":""} ${this.colorpreset>1?`ids-link--color-${this.colorpreset}`:""} ${this.activeicon?"ids-link--active-icon":""}" style="${this.outline?`outline-color:${this.outline};`:""}${this.padding?`padding:${this.padding};`:""}${this.color?`color:${this.color}; text-decoration-color: ${this.color};`:""}${this.isHovered||this.isFocused?`color:${this.hovercolor}; text-decoration-color: ${this.hovercolor};`:""}${this.underlined?"text-decoration: underline;":""}${this.size?`font-size: ${this.size}; line-height: inherit;`:""}${this.bold?"font-weight: 600;":""}">${this.renderPrependIcon()} <span class="ids-link__text">${this.linkText} ${this.renderAppendIcon()}</span><slot></slot>${this.renderNotificationBadge()}</span>`}}l.styles=[r,c,n],t([i({type:String})],l.prototype,"padding",void 0),t([i({type:String,reflect:!0})],l.prototype,"color",void 0),t([i({type:String,reflect:!0})],l.prototype,"hovercolor",void 0),t([i({type:Number})],l.prototype,"colorpreset",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"light",void 0),t([i({type:String})],l.prototype,"outline",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"active",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"activeicon",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"block",void 0),t([i({type:String})],l.prototype,"size",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"bold",void 0),t([i({type:Boolean,reflect:!0})],l.prototype,"underlined",void 0),t([s()],l.prototype,"isHovered",void 0),t([s()],l.prototype,"isFocused",void 0),t([s()],l.prototype,"activeIconBackgroundColor",void 0);export{l as IDSLink};
